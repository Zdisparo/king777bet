<!DOCTYPE html>
<html lang="pt-BR" class="bg-black text-white" x-data>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadastro - KING777bets</title>

  <!-- Meta Pixel Code -->
  <script>
    !function(f,b,e,v,n,t,s){
      if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;
      s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)
    }(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1143296044430858');
    fbq('track', 'PageView');
    fbq('track', 'ViewContent', {content_name: 'Cadastro', content_category: 'KING999'});
  </script>
  <noscript>
    <img height="1" width="1" style="display:none"
         src="https://www.facebook.com/tr?id=1143296044430858&ev=PageView&noscript=1"/>
  </noscript>
  <!-- /Meta Pixel Code -->

  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://unpkg.com/alpinejs"></script>
  <link rel="stylesheet" href="style.css">
  <style>
    .ripple { position: relative; overflow: hidden; }
    .ripple::after {
      content: ''; position: absolute; border-radius: 50%;
      width: 5px; height: 5px; background: rgba(255,255,255,0.6);
      transform: scale(1); opacity: 0; pointer-events: none;
    }
    .ripple.clicked::after { animation: ripple-effect 0.6s ease-out; }
    @keyframes ripple-effect { from { transform: scale(1); opacity: .7; } to { transform: scale(100); opacity: 0; } }

    /* ===== POPUP SIGAP (imagem) ===== */
    #sigap-overlay{
      position: fixed; inset: 0; background: rgba(0,0,0,.85);
      display: none; align-items: center; justify-content: center;
      z-index: 9999;
    }
    .sigap-modal{
      width: min(92vw, 560px);
      background: #0f172a; color: #e5e7eb;
      border-radius: 16px; padding: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.6);
      position: relative; text-align: center;
      animation: popPulse 1.6s ease-in-out infinite;
    }
    @keyframes popPulse{
      0%,100%{ transform: scale(1); box-shadow: 0 0 0 rgba(255,193,7,0); }
      50%{ transform: scale(1.02); box-shadow: 0 0 24px rgba(255,193,7,.25); }
    }
    .sigap-modal::before{
      content:""; position:absolute; inset:-2px; border-radius:18px; pointer-events:none;
      box-shadow:
        0 0 0 2px rgba(255,213,74,.95) inset,
        0 0 14px rgba(255,213,74,.45),
        0 0 22px rgba(255,109,0,.25);
    }
    .sigap-close{
      position:absolute; right:10px; top:10px;
      width:34px; height:34px; border-radius:999px;
      border:1px solid #374151; background:#111827; color:#f3f4f6;
      font-size:18px; line-height:32px; cursor:pointer;
    }
    .sigap-close:hover{ background:#1f2937; }
    .sigap-img{
      display:block; width:100%; height:auto;
      border-radius:12px; box-shadow: 0 4px 16px rgba(0,0,0,.35);
    }
    .sigap-ok{
      margin-top:12px; padding:10px 20px; border:0; border-radius:10px;
      background:#facc15; color:#111827; font-weight:800; cursor:pointer;
    }
    .sigap-ok:hover{ background:#fde047; }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-gray-950 text-white px-4"
      x-data="{ nome: '', senha: '', confirmar: '', celular: '', erro: '' }">

  <!-- SOM DO APP (mantido) -->
  <audio id="sound-click" src="click.mp3"></audio>

  <div class="w-full max-w-md bg-gray-900 rounded-xl shadow-xl p-6 space-y-4 sm:p-8">
    <div class="text-center">
      <img src="logo.png" alt="Logo" class="mx-auto h-12 mb-4">
      <h2 class="text-lg sm:text-xl font-bold">Cadastre-se e ganhe R$7.777</h2>
      <p class="text-xs sm:text-sm text-gray-400">Convide outras pessoas e ganhe R$ 1 milhão</p>
    </div>

    <div class="flex justify-around mt-4 text-sm sm:text-base">
      <span class="text-yellow-400 font-semibold border-b border-yellow-400 pb-1">📒 Registro</span>
      <a href="#" class="text-gray-400">🔐 Login</a>
    </div>

    <!-- FORMULÁRIO -->
    <div class="space-y-3">
      <input type="text" x-model="nome" placeholder="*Nome de usuário" class="w-full px-4 py-2 bg-gray-800 rounded border border-gray-700 text-sm sm:text-base" />
      <input type="password" x-model="senha" placeholder="*Senha" class="w-full px-4 py-2 bg-gray-800 rounded border border-gray-700 text-sm sm:text-base" />
      <input type="password" x-model="confirmar" placeholder="*Confirme a senha" class="w-full px-4 py-2 bg-gray-800 rounded border border-gray-700 text-sm sm:text-base" />
      <input type="tel" x-model="celular" placeholder="*Digite o número do celular" class="w-full px-4 py-2 bg-gray-800 rounded border border-gray-700 text-sm sm:text-base" />
    </div>

    <!-- ACEITE -->
    <div class="text-xs sm:text-sm mt-3">
      <label class="inline-flex items-center">
        <input type="checkbox" required class="form-checkbox text-yellow-500" checked />
        <span class="ml-2">Tenho 18 anos, li e concordo com <a href="#" class="text-yellow-400 underline">Acordo do Usuário</a></span>
      </label>
    </div>

    <!-- ERRO -->
    <template x-if="erro">
      <p class="text-red-500 text-xs font-semibold sm:text-sm" x-text="erro"></p>
    </template>

    <!-- BOTÃO -->
    <button 
      @click="
        document.getElementById('sound-click').play();
        if (!nome || !senha || !confirmar || !celular) {
          erro = 'Preencha todos os campos obrigatórios!'
        } else if (senha !== confirmar) {
          erro = 'As senhas não coincidem!'
        } else {
          localStorage.setItem('user', JSON.stringify({ nome, celular }));
          try { if (window.fbq) fbq('track', 'CompleteRegistration', {content_name:'Cadastro', status:'success'}); } catch(e){}
          setTimeout(()=>{ window.location.href = 'home.html'; }, 150);
        }
      "
      @mousedown="$el.classList.add('clicked'); setTimeout(() => $el.classList.remove('clicked'), 600)"
      class="ripple bg-yellow-400 hover:bg-yellow-500 text-black w-full py-2 rounded font-bold mt-2 text-sm sm:text-base"
    >
      Registro
    </button>

    <div class="text-center mt-2">
      <a href="#" class="text-xs sm:text-sm text-yellow-400">Contactar o suporte</a>
    </div>
  </div>

  <!-- ===== POP-UP SIGAP (imagem) ===== -->
  <div id="sigap-overlay" role="dialog" aria-modal="true" aria-label="Aviso SIGAP">
    <div class="sigap-modal">
      <button class="sigap-close" id="sigap-close-btn" aria-label="Fechar aviso">×</button>

      <!-- Sua imagem -->
      <img src="sigap.png" alt="SIGAP - Sistema de Gestão de Apostas | GRUPO FS" class="sigap-img">

      <button class="sigap-ok" id="sigap-ok-btn" type="button">OK</button>
    </div>
  </div>

  <!-- Script do pop-up (sem áudio, com localStorage) -->
  <script>
    (function(){
      const overlay = document.getElementById('sigap-overlay');
      const btnClose = document.getElementById('sigap-close-btn');
      const btnOk    = document.getElementById('sigap-ok-btn');

      const STORAGE_KEY = 'sigap_popup_seen'; // aparece só uma vez por navegador
      const DELAY_MS = 600;                   // atraso para abrir

      function openSigap(){
        overlay.style.display = 'flex';
        try { localStorage.setItem(STORAGE_KEY, '1'); } catch(e){}
      }
      function closeSigap(){ overlay.style.display = 'none'; }

      window.addEventListener('load', () => {
        try {
          const seen = localStorage.getItem(STORAGE_KEY);
          if (!seen) setTimeout(openSigap, DELAY_MS);
        } catch (e) {
          setTimeout(openSigap, DELAY_MS);
        }
      });

      btnClose.addEventListener('click', closeSigap);
      btnOk.addEventListener('click', closeSigap);
      overlay.addEventListener('click', (e) => { if (e.target === overlay) closeSigap(); });
      document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeSigap(); });

      // Teste: localStorage.removeItem('sigap_popup_seen')
    })();
  </script>

</body>
</html>
